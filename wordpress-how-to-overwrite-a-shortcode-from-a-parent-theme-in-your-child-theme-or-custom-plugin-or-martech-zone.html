<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>WordPress: How To Overwrite A Shortcode From A Parent Theme In Your Child Theme Or Custom Plugin | Martech Zone - Go Blog</title><meta name="description" content="Many of our clients have buttons implemented through parent theme shortcodes. One of our partners asked if we could do some event tracking on the buttons since they were great call-to-actions (CTA) throughout the sites. The button shortcode we use automatically outputs a nice button&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://andreyulianto0371.github.io/publii/wordpress-how-to-overwrite-a-shortcode-from-a-parent-theme-in-your-child-theme-or-custom-plugin-or-martech-zone.html"><link rel="alternate" type="application/atom+xml" href="https://andreyulianto0371.github.io/publii/feed.xml"><link rel="alternate" type="application/json" href="https://andreyulianto0371.github.io/publii/feed.json"><meta property="og:title" content="WordPress: How To Overwrite A Shortcode From A Parent Theme In Your Child Theme Or Custom Plugin | Martech Zone"><meta property="og:site_name" content="Go Blog"><meta property="og:description" content="Many of our clients have buttons implemented through parent theme shortcodes. One of our partners asked if we could do some event tracking on the buttons since they were great call-to-actions (CTA) throughout the sites. The button shortcode we use automatically outputs a nice button&hellip;"><meta property="og:url" content="https://andreyulianto0371.github.io/publii/wordpress-how-to-overwrite-a-shortcode-from-a-parent-theme-in-your-child-theme-or-custom-plugin-or-martech-zone.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://andreyulianto0371.github.io/publii/assets/css/style.css?v=a04af01030a64425bd5b3d490e311759"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://andreyulianto0371.github.io/publii/wordpress-how-to-overwrite-a-shortcode-from-a-parent-theme-in-your-child-theme-or-custom-plugin-or-martech-zone.html"},"headline":"WordPress: How To Overwrite A Shortcode From A Parent Theme In Your Child Theme Or Custom Plugin | Martech Zone","datePublished":"2024-01-25T22:16+07:00","dateModified":"2025-01-03T23:00+07:00","description":"Many of our clients have buttons implemented through parent theme shortcodes. One of our partners asked if we could do some event tracking on the buttons since they were great call-to-actions (CTA) throughout the sites. The button shortcode we use automatically outputs a nice button&hellip;","author":{"@type":"Person","name":"Andre Yulianto","url":"https://andreyulianto0371.github.io/publii/authors/andre-yulianto/"},"publisher":{"@type":"Organization","name":"Andre Yulianto"}}</script><style>.u-tag--blog{--badge-bg:#84888E;--badge-txt:#FFFFFF;}.u-tag--lorem-ipsum{--badge-bg:#84888E;--badge-txt:#FFFFFF;}</style><noscript><style>img[loading]{opacity:1;}</style></noscript></head><body class="post-template"><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://andreyulianto0371.github.io/publii/">Go Blog</a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"></ul></nav></div></header><div class="main-content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2025-01-03T23:06">January 3, 2025</time></div></div><main class="main post"><article class="content"><header class="u-header content__header"><h1>WordPress: How To Overwrite A Shortcode From A Parent Theme In Your Child Theme Or Custom Plugin | Martech Zone</h1><div class="u-header__meta u-small"><div><a href="https://andreyulianto0371.github.io/publii/authors/andre-yulianto/" title="Andre Yulianto">Andre Yulianto</a> <time datetime="2024-01-25T22:16">January 25, 2024</time></div></div></header><div class="content__entry u-inner"><p><main><p>Many of our clients have buttons implemented through parent theme shortcodes. One of our partners asked if we could do some event tracking on the buttons since they were great call-to-actions (CTA) throughout the sites. The button shortcode we use automatically outputs a nice button by adding classes to the output HTML.</p></main></p><p>Here’s the shortcode to produce a button to visit my site:</p><p></p><pre class="wp-block-code"><code>[button link=" DK New Media[/button]</code></pre><p></p><p>That outputs:</p><p></p><pre class="wp-block-code"><code>&lt;a href=" class="button blue medium"&gt;Visit DK New Media&lt;/a&gt;</code></pre><p></p><p>And here’s how it looks:</p><p></p><p class="has-text-align-center">Visit DK New Media</p><h2 class="wp-block-heading">Add GA4 Event Tracking to a Button Shortcode</h2><p></p><p>We want to update the HTML output to automatically add Google Analytics 4 Event Tracking when the button is clicked:</p><p></p><pre class="wp-block-code"><code>&lt;a href=" class="button blue medium" onclick="gtag('event', 'click', {'event_category': 'button', 'event_label': 'Visit DK New Media'});"&gt;Visit DK New Media&lt;/a&gt;</code></pre><p></p><p>The button shortcode was created in our parent theme, so we do not want to modify our original theme to accommodate the change as those changes would be lost if we updated the theme. There is a solution, though! The WordPress API enables you to remove a shortcode using the <code>remove_shortcode</code> function!</p><p></p><p>This can be accomplished in your child theme <code>functions.php</code> file or by applying the code in a custom function. I advise deploying all of your content-related shortcodes in a custom plugin rather than in a theme file. Tools like AMP do not render shortcodes in themes.</p><p></p><h2 class="wp-block-heading">Overwrite a Shortcode In a Child Theme</h2><p></p><p>In a child theme, you can remove the shortcode and replace it with our new shortcode function. You will need to search your parent theme code to find the function (called <code>button_function_in_parent_theme</code> below) that creates the shortcode and then you can utilize it in this snippet in <code>functions.php</code>:</p><p></p><pre class="wp-block-code"><code>add_action( 'after_setup_theme', 'update_button_shortcode' );<restore-line-break><restore-line-break>function update_button_shortcode() {<restore-line-break>    remove_shortcode( 'button_function_in_parent_theme' );<restore-line-break>    add_shortcode( 'button', 'new_button_shortcode' );<restore-line-break>}</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p></p><p>Now, you can add your new and updated shortcode function with GA4 event tracking:</p><p></p><pre class="wp-block-code"><code>function new_button_shortcode($atts, $content = null) {<restore-line-break>    // Extract shortcode attributes<restore-line-break>    $attributes = shortcode_atts(<restore-line-break>        array(<restore-line-break>            'link' =&gt; '#', // Default value if 'link' is not provided<restore-line-break>        ), <restore-line-break>        $atts<restore-line-break>    );<restore-line-break><restore-line-break>    $url = esc_url($attributes['link']);<restore-line-break>    $text = esc_html($content);<restore-line-break><restore-line-break>    // Generate the HTML output<restore-line-break>    $html="&lt;a href="" . $url . '" class="button blue medium" onclick="gtag(\'event\', \'click\', {\'event_category\': \'button\', \'event_label\': \'' . $text . '\'});"&gt;' . $text . '&lt;/a&gt;';<restore-line-break><restore-line-break>    return $html;<restore-line-break>}<restore-line-break><restore-line-break>// Register the shortcode<restore-line-break>add_shortcode('button', 'new_button_shortcode');</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p></p><h2 class="wp-block-heading">Overwrite a Shortcode Using A Custom Plugin</h2><p></p><p>I’d recommend building a custom plugin for your site that incorporates all your shortcodes, even those within your theme. To do this:</p><p></p><ol class="wp-block-list"><li>Create a folder that’s uniquely named. For example, ours is named <em>mtz-shortcodes</em>.</li><li>Within that file, add a <em>shortcodes.php</em> file. (You can name it anything you’d like)</li><p></p><li>Within the shortcodes.php file, you can add the code above in addition to the plugin information that will display on your plugins page:</li></ol><pre class="wp-block-code"><code><code>&lt;?php<restore-line-break>/*<restore-line-break>Plugin Name: Martech Zone Shortcodes<restore-line-break>Description: Shortcodes for Martech Zone. This way they work with AMP.<restore-line-break>Version: 1.0.0<restore-line-break>Author: Douglas Karr<restore-line-break>Author URI: <restore-line-break>*/<restore-line-break><restore-line-break>function update_shortcodes() {<restore-line-break>    remove_shortcode( 'button_function_in_parent_theme' );<restore-line-break>    add_shortcode( 'button', 'new_button_shortcode' );<restore-line-break>}</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code><restore-line-break>add_action( 'init', '<span style="background-color: initial; font-family: inherit; font-size: inherit; color: initial;">update_shortcodes</span>' );<restore-line-break><restore-line-break>function new_button_shortcode($atts, $content = null) {<restore-line-break>    // Extract shortcode attributes<restore-line-break>    $attributes = shortcode_atts(<restore-line-break>        array(<restore-line-break>            'link' =&gt; '', // Default value if 'link' is not provided<restore-line-break>        ), <restore-line-break>        $atts<restore-line-break>    );<restore-line-break><restore-line-break>    $url = esc_url($attributes['link']);<restore-line-break>    $text = esc_html($content);<restore-line-break><restore-line-break>    // Generate the HTML output<restore-line-break>    $html="&lt;a href="" . $url . '" class="button blue medium" onclick="gtag(\'event\', \'click\', {\'event_category\': \'button\', \'event_label\': \'' . $text . '\'});"&gt;' . $text . '&lt;/a&gt;';<restore-line-break><restore-line-break>    return $html;<restore-line-break>}</restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p></p><ol class="wp-block-list" start="4"><li>You can remove and add multiple shortcodes in the function above if you have more than one shortcode you’d like to replace using your custom plugin.</li><li>Zip up the folder, and you can now upload and activate the plugin via your WordPress plugins menu.</li></ol><p></p><div id="div-gpt-ad-1703691464135-0" style="min-width: 250px; height: auto;"></div><p></p><p></p></div></article></main><a href="https://martech.zone/wordpress-how-to-overwrite-remove-add-shortcode/" target="_blank" rel="noopener noreferrer nofollow"><b>Source: martech.zone</b></a><p></p></div><aside class="content__aside"><div class="content__last-updated u-small">This article was updated on January 3, 2025</div><div class="content__share"></div></aside><footer class="content__footer"><div class="content__bio box"><div><h4 class="h6"><a href="https://andreyulianto0371.github.io/publii/authors/andre-yulianto/" title="Andre Yulianto">Andre Yulianto</a></h4></div></div><nav class="content__nav box"><div class="content__nav__prev"><a href="https://andreyulianto0371.github.io/publii/15-most-addictive-gps-location-based-mobile-games-2024-quertime.html" class="content__nav__link" rel="prev"><div class="u-small">Previous Post<h5>15 Most Addictive GPS Location-based Mobile Games (2024) - Quertime</h5></div></a></div><div class="content__nav__next"><a href="https://andreyulianto0371.github.io/publii/wordpress-stop-updating-years-on-your-with-this-shortcode-to-calculate-years-since-or-martech-zone.html" class="content__nav__link" rel="next"><div class="u-small">Next Post<h5>WordPress: Stop Updating Years On Your With This Shortcode To Calculate Years Since | Martech Zone</h5></div></a></div></nav><div class="content__related box"><h3 class="box__title">Related posts</h3><div class="content__related-wrap"><figure class="content__related-item"><figcaption><h4 class="content__related-title"><a href="https://andreyulianto0371.github.io/publii/the-rise-of-the-second-screen-statistics-trends-and-marketing-tips-or-martech-zone.html" class="inverse">The Rise Of The Second Screen: Statistics, Trends, And Marketing Tips | Martech Zone</a></h4><time datetime="2024-01-04T01:14" class="u-small">January 4, 2024</time></figcaption></figure><figure class="content__related-item"><figcaption><h4 class="content__related-title"><a href="https://andreyulianto0371.github.io/publii/cant-rank-your-website-do-this-to-escape-the-google-purgatory.html" class="inverse">Can’t Rank Your Website? Do This to Escape the Google Purgatory</a></h4><time datetime="2024-01-04T22:17" class="u-small">January 4, 2024</time></figcaption></figure><figure class="content__related-item"><figcaption><h4 class="content__related-title"><a href="https://andreyulianto0371.github.io/publii/zipboard-streamlining-proofing-and-collaboration-workflows-for-any-digital-asset-or-martech-zone.html" class="inverse">ZipBoard: Streamlining Proofing And Collaboration Workflows For Any Digital Asset | Martech Zone</a></h4><time datetime="2024-01-02T23:07" class="u-small">January 2, 2024</time></figcaption></figure></div></div></footer><div class="sidebar"><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><div><a href="https://andreyulianto0371.github.io/publii/authors/andre-yulianto/" class="authors__title">Andre Yulianto</a> <span class="u-small">Post: 633</span></div></li></ul></section><section class="newsletter box box--gray"><h3 class="box__title">Newsletter</h3><p class="newsletter__description">Sign up to receive email updates and to hear what's going on with us!</p><form>...</form></section><section class="box"><h3 class="box__title">Tags</h3><ul class="tags"><li><a href="https://andreyulianto0371.github.io/publii/tags/blog/">blog</a> <span class="u-small">(1)</span></li><li><a href="https://andreyulianto0371.github.io/publii/tags/lorem-ipsum/">lorem ipsum</a> <span class="u-small">(1)</span></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://andreyulianto0371.github.io/publii/">Go Blog</a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright">Powered by Publii</div></footer><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://andreyulianto0371.github.io/publii/assets/js/scripts.min.js?v=18a65c58aef57c0287e0f0609f3389a9"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>